#!/usr/bin/python

import numpy as np
import cmath

#np.set_printoptions(suppress=True, precision=13)

def symmNormalization(MPS, chir, chic):
    S = np.linalg.svd(MPS, False, False)
    print "S =", S
    Ssqrt = map(np.sqrt, S)
    print "S'=", Ssqrt
    SsqrtI = map(np.sqrt, 1./S)
    print "Si=", SsqrtI

    G = []
    for q in range(d):
        AL = np.tensordot(MPS, SsqrtI, axes=([1,0]))
        LAL = np.tensordot(SsqrtI, AL, axes=([1,0]))
        G.append(LAL)
        print "G[",q,"]\n", G[q]
    
    pass


"""Main...
"""
length = 4
d = 2
xi = 3

xir = xic = xi
theA = np.random.rand(xir, xic, d)-.5

symmNormalization(theA, xir, xic)
